# Публикация комиксов

Программа для публикации [xkcd](https://xkcd.com/) комиксов в [группе в ВК](https://vk.com/public207920447). Код взаимодействует с [API Вконтакте](https://vk.com/dev), а именно: 

- Выдаёт адрес для загрузки фото;
- Загружает фото на сервер;
- Загружает фото в альбом;
- Загружает фото на стену в группе в ВК.

Картинки же код скачивает при помощи [API xkcd]( https://xkcd.com/info.0.json).

## Как установить 

Во-первых, необходимо создать группу в ВК, в которую и будут поститься фото. Во-вторых необходимо создать приложение в ВК (это необходимо для взаимодействия с API Вконтакте).
После необходимо получить токен, нужно это для того, чтобы ваше приложение имело доступ к вашему аккаунту и могло публиковать сообщения в группах. Все необходимые разрешения на скриншоте ниже.

![вк](https://user-images.githubusercontent.com/83189636/138915474-3b3a42f1-4273-4513-98a2-33ac200e5bcf.PNG).

После получения API-ключа его необходимо спрятать. Для этого создайте ```.env``` файл и спрячьте ключ туда.
```python
VK_API_KEY='Ваш API-ключ'
```
В самом коде это выглядит так:

```python
vk_api_key = os.getenv("VK_API_KEY")
```
Также необходимо в ```.env``` файл добавить идентификатор пользователя ```user_id```, [узнать его можно прямо вот здесь](https://regvk.com/id/).
```python
USER_ID='Ваш user id'
```
в коде же:
```python
user_id = os.getenv("USER_ID')
```

В проекте используется пакет python-dotenv. Он позволяет загружать переменные окружения из файла .env в корневом каталоге приложения. Этот ```.env```-файл можно использовать для всех переменных конфигурации.

Далее необходимо, чтобы Python3 был уже установлен затем используйте pip (или pip3, есть конфликт с Python2) для установки зависимостей:

```python
pip install -r requirements.txt
```

## Как пользоваться 

Переходите к расположению файла и прописываете команду:
``` python 
python main.py
```
После запуска скачивается комикс (необходимо дать ему название) и после всех операций удаляется. И в конце вы получаете опубликованный комикс с комментарием от [xkcd](https://xkcd.com/).

![Пример запуска](https://user-images.githubusercontent.com/83189636/138919665-f6164f17-ea4a-4c6a-a900-26fd39ce87d5.PNG)

![пост](https://user-images.githubusercontent.com/83189636/138919585-d69072ef-bdf8-42a0-9ab7-0c096f5449f2.PNG)
Пример запуска скрипта.



